"use strict";(self.webpackChunkmeta_astro=self.webpackChunkmeta_astro||[]).push([[127],{11977:function(ae,k,a){a.d(k,{Z:function(){return m}});var Q=a(67294),r=a(99477),O=a(69365),C={backgroundContainer:"backgroundContainer___IPW5t",mask:"mask___YHl74"},N=a(85893),P=function(i){var e=i.speedup,s=i.pullup,t=i.leftDays,d=i.complex,B=[1e4,7e4],Z=[1,.3],p=[1e3,9e3],E=new r.dpR,x=E.load("/particleShape/1.png"),I=new r.xsS,l={count:!!t&&t<=7?(B[1]-B[0])/7*(7-t+1):d?7e4:1e4,size:.01,radius:5,branches:!!t&&t<=7?7-t+1:7,spin:1,randomness:!!t&&t<=7?(Z[1]-Z[0])/7*(7-t+1):d?.3:.1,randomnessPower:5,stars:!!t&&t<=7?p[1]-p[0]/7*(7-t+1):9e3,starColor:"#1b3984",insideColor:"#ff5b00",outsideColor:"#1b3984"},S,n,j,G=function(){S=new r.u9r;for(var c=new Float32Array(l.count*3),v=new Float32Array(l.count*3),M=new r.Ilk(l.insideColor),$=new r.Ilk(l.outsideColor),y=0;y<l.count;y++){var g=Math.random()*l.radius,D=y%l.branches/l.branches*2*Math.PI,T=g*l.spin,V=Math.pow(Math.random(),l.randomnessPower)*(Math.random()<.5?1:-1),R=Math.pow(Math.random(),l.randomnessPower)*(Math.random()<.5?1:-1),K=Math.pow(Math.random(),l.randomnessPower)*(Math.random()<.5?1:-1);c[y*3]=Math.sin(D+T)*g+V,c[y*3+1]=R,c[y*3+2]=Math.cos(D+T)*g+K;var F=M.clone();F.lerp($,g/l.radius),v[y*3+0]=F.r,v[y*3+1]=F.g,v[y*3+2]=F.b}S.setAttribute("position",new r.TlE(c,3)),S.setAttribute("color",new r.TlE(v,3)),n=new r.UY4({color:"white",size:l.size,depthWrite:!1,sizeAttenuation:!0,blending:r.WMw,vertexColors:!0,transparent:!0,alphaMap:x}),j=new r.woe(S,n),I.add(j)},A,ne,Y,te=function(){A=new r.u9r;for(var c=new Float32Array(l.stars*3),v=0;v<l.stars;v++)c[v*3+0]=(Math.random()-.5)*20,c[v*3+1]=(Math.random()-.5)*20,c[v*3+2]=(Math.random()-.5)*20;A.setAttribute("position",new r.TlE(c,3)),ne=new r.UY4({size:l.size,depthWrite:!1,sizeAttenuation:!0,blending:r.WMw,color:l.starColor,transparent:!0,alphaMap:x}),Y=new r.woe(A,ne),I.add(Y)},w={width:window.innerWidth,height:window.innerHeight},f=new r.cPb(75,w.width/w.height,.1,50);f.position.x=3,f.position.y=3,f.position.z=3,I.add(f);var re=new r.SUY,J,b=function u(){if(J){var c=re.getElapsedTime();j.rotation.y=c*.1,Y.rotation.y=-c*.05,e&&(j.rotation.y+=j.rotation.y*1.1,Y.rotation.y+=Y.rotation.y*1.1),s&&f.position.x>1&&(f.position.x-=.01,f.position.y-=.01,f.position.z-=.01),J.render(I,f,j,Y),window.requestAnimationFrame(u)}else{window.requestAnimationFrame(u);return}};return(0,Q.useEffect)(function(){var u=document.getElementById("backgroundContainer");document.createElement("canvas.webgl");var c=document.querySelector("canvas.webgl");c.remove(),u.appendChild(c),G(),te();var v=new O.z(f,c);v.enableDamping=!0;var M=new r.CP7({canvas:c,stencil:!1,powerPreference:d?"high-performance":"low-power",depth:!!d,logarithmicDepthBuffer:!d});M.setSize(w.width,w.height),M.setPixelRatio(Math.min(window.devicePixelRatio,d?3:1)),J=M,b(),window.addEventListener("resize",function(){w.width=window.innerWidth,w.height=window.innerHeight,f.aspect=w.width/w.height,f.updateProjectionMatrix(),M.setSize(w.width,w.height),M.setPixelRatio(Math.min(window.devicePixelRatio,d?3:1))})},[e,s,t]),(0,N.jsxs)("div",{className:C.backgroundContainer,id:"backgroundContainer",children:[(0,N.jsx)("div",{className:C.mask}),(0,N.jsx)("canvas",{className:"webgl"})]})},m=P},32454:function(ae,k,a){a.d(k,{Z:function(){return e}});var Q=a(67294),r=a(8623),O=a(52129),C=a(71577),N={modal:"modal___IY4Fz",codeInput:"codeInput___xcapy",verifyForm:"verifyForm___RWy7A",highLight:"highLight___BAlF9",verifyInput:"verifyInput___jfIMo",buttons:"buttons___NlwqO",button:"button___TcFZ3",title:"title___EFaYc"},P=a(54549),m=a(85893),z=r.Z.Title,i=function(t){var d=t.visable,B=t.title,Z=t.content,p=t.footer,E=t.close,x=t.bodyStyle,I=t.width;return(0,m.jsx)(O.Z,{title:B?(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(z,{level:3,className:N.title,children:B})}):!1,closable:!!E,closeIcon:(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(C.Z,{shape:"circle",size:"large",type:"ghost",icon:(0,m.jsx)(P.Z,{style:{color:"#fff",fontSize:"2rem",fontWeight:900},onClick:E})})}),className:N.modal,centered:!0,visible:d,width:I||550,footer:p,bodyStyle:x,children:Z})},e=i},63346:function(ae,k,a){a.d(k,{Z:function(){return re}});var Q=a(17061),r=a.n(Q),O=a(17156),C=a.n(O),N=a(27424),P=a.n(N),m=a(38648),z=a(71577),i=a(67294),e=a(59841),s={headerContainer:"headerContainer___e_nnB",logo:"logo___juXI0",logoImg:"logoImg___rHEMp",connectWallet:"connectWallet___bfEju",connectWalletBtn:"connectWalletBtn___DxNG5",icon:"icon___vTNbU",rightInfo:"rightInfo____qyf2",account:"account___qXfAf",menuButton:"menuButton___l5Mdk",headerMenu:"headerMenu___VP9R_",menuItem:"menuItem___oSyZT"},t=a(89583),d=a(75552),B=a(2037),Z=a(55035),p={breedPriceModal:"breedPriceModal___SSdKN",arrowIcon:"arrowIcon___HWrbV",breedPriceInputContainer:"breedPriceInputContainer___EQW0F",userInputContainer:"userInputContainer___feMMg",input:"input___lj5jz",button:"button___hWZUH"},E=a(32454),x=a(43138),I=a(64594),l=a(77616),S=a(625),n=a(85893),j=function(b){var u=b.setBreedPriceModal,c=b.breedPriceModal,v=(0,e.useModel)("web3"),M=v.account,$=v.chainId,y=(0,i.useState)(),g=P()(y,2),D=g[0],T=g[1],V=(0,i.useState)(),R=P()(V,2),K=R[0],F=R[1],oe=(0,i.useState)(!1),q=P()(oe,2),se=q[0],H=q[1],X=(0,e.useIntl)(),_=(0,e.useModel)("astroContracts"),L=_.PrimeContract,ee=_.OrdinaryContract;(0,i.useEffect)(function(){M&&S.v.network.id.includes($)},[$,M]);var W=function(){var U=C()(r()().mark(function h(){var ce,de,ie,le;return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return H(!0),o.prev=1,o.next=4,L?.ownerOf(D);case 4:if(ce=o.sent,ce===I.Kn(M)){o.next=9;break}return m.Z.error({message:"You are not the owner of this token.",duration:null}),H(!1),o.abrupt("return");case 9:return o.next=11,ee?.setBreedPrice(D,K);case 11:de=o.sent,console.log("tx",de),H(!1),u(!1),o.next=22;break;case 17:o.prev=17,o.t0=o.catch(1),console.log((o.t0===null||o.t0===void 0||(ie=o.t0.error)===null||ie===void 0?void 0:ie.message)||(o.t0===null||o.t0===void 0?void 0:o.t0.message)||o.t0),m.Z.error({message:(o.t0===null||o.t0===void 0||(le=o.t0.error)===null||le===void 0?void 0:le.message)||(o.t0===null||o.t0===void 0?void 0:o.t0.message)||o.t0,duration:null}),H(!1);case 22:case"end":return o.stop()}},h,null,[[1,17]])}));return function(){return U.apply(this,arguments)}}();return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(E.Z,{visable:c,title:void 0,bodyStyle:{backgroundColor:"#000",border:"2px solid #fff"},content:(0,n.jsxs)("div",{className:p.breedPriceInputContainer,children:[(0,n.jsx)("div",{className:p.userInputContainer,children:X.formatMessage({id:"astro.breedPriceInput",defaultMessage:"I want to set {tokenId} breed price to {price}."},{tokenId:(0,n.jsx)(x.Z,{className:p.input,placeholder:X.formatMessage({id:"astro.tokenIdInputPlaceholder",defaultMessage:"Token ID"}),type:"number",min:1,onChange:function(h){T(h)}}),price:(0,n.jsx)(x.Z,{className:p.input,placeholder:X.formatMessage({id:"astro.breedPriceInputPlaceholder",defaultMessage:"Price"}),type:"number",min:0,onChange:function(h){h&&F(l.fi(h.toString()).toString())}})})}),(0,n.jsx)(z.Z,{size:"large",shape:"round",type:"primary",className:p.button,disabled:!D||!K,loading:se,onClick:function(){W()},children:X.formatMessage({id:"astro.confirm",defaultMessage:"Confirm"})})]}),footer:!1,close:function(){u(!1)}})})},G=j,A=a(81093),ne=function(){var b=(0,e.useModel)("web3"),u=b.account,c=b.chainId,v=b.connect,M=b.disconnect,$=b.switchNetwork,y=(0,e.useModel)("@@initialState"),g=y.initialState,D=(0,i.useState)(!1),T=P()(D,2),V=T[0],R=T[1],K=(0,i.useState)(!1),F=P()(K,2),oe=F[0],q=F[1],se=(0,i.useState)(!1),H=P()(se,2),X=H[0],_=H[1],L=(0,e.useIntl)(),ee=(0,e.useLocation)();return(0,i.useEffect)(function(){!!S.v.network.id.includes(c)&&!!u?_(!0):(_(!1),m.Z.error({message:"Unsupported Chain",description:"This feature is only supported on Mainnet",duration:null}),$(S.v.network.id[0]))},[c,u]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:s.headerContainer,children:[(0,n.jsxs)("div",{className:s.logo,onClick:function(){e.history.push("/")},children:[(0,n.jsx)("img",{src:"/images/background/moon.svg",className:s.logoImg,alt:"MetaAstro"}),(0,n.jsx)("span",{children:"MetaAstro"})]}),(0,n.jsx)("div",{className:s.connectWallet,children:(!(g!=null&&g.leftDays)||g?.leftDays===0)&&(0,n.jsx)(n.Fragment,{children:!!u&&X?(0,n.jsxs)("div",{className:s.menuButton,children:[(0,n.jsx)(z.Z,{type:"default",size:"large",shape:"round",className:s.connectWalletBtn,icon:(0,n.jsx)(t.OZg,{className:s.icon}),onClick:function(){R(!V)},children:"".concat(u.substring(0,6),"...").concat(u.slice(-4))}),(0,n.jsxs)("div",{className:s.headerMenu,style:{height:V?"200px":"0"},children:[(0,n.jsxs)("div",{className:s.menuItem,onClick:function(){q(!0)},children:[(0,n.jsx)(d.Z,{className:s.icon}),L.formatMessage({id:"header.menu.breedPrice",defaultMessage:"Breed Price"})]}),(0,n.jsxs)("div",{className:s.menuItem,onClick:function(){ee.pathname.indexOf("breed")>-1?window.open("".concat(A.cB.url,"/").concat(u,"/").concat(A.cB.ordinaryCollection),"_blank"):window.open("".concat(A.cB.url,"/").concat(u,"/").concat(A.cB.primeCollection),"_blank")},children:[(0,n.jsx)(B.Z,{className:s.icon}),L.formatMessage({id:"header.menu.onOpensea",defaultMessage:"On Opensea"})]}),(0,n.jsxs)("div",{className:s.menuItem,onClick:C()(r()().mark(function W(){return r()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,M();case 2:R(!1);case 3:case"end":return h.stop()}},W)})),children:[(0,n.jsx)(Z.Z,{className:s.icon}),L.formatMessage({id:"header.menu.logout",defaultMessage:"Logout"})]})]})]}):(0,n.jsx)(z.Z,{type:"default",size:"large",shape:"round",className:s.connectWalletBtn,icon:(0,n.jsx)(t.OZg,{className:s.icon}),onClick:C()(r()().mark(function W(){return r()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,v();case 2:case"end":return h.stop()}},W)})),children:L.formatMessage({id:"header.connectWallet",defaultMessage:"Connect Wallet"})})})})]}),(0,n.jsx)(G,{setBreedPriceModal:q,breedPriceModal:oe})]})},Y=ne,te=a(97183),w=te.Z.Content,f=function(b){var u=b.children;return(0,n.jsxs)(te.Z,{children:[(0,n.jsx)(Y,{}),(0,n.jsx)(w,{children:u})]})},re=f},87526:function(ae,k,a){a.d(k,{DL:function(){return m},Eg:function(){return O},Nc:function(){return z},tP:function(){return N}});var Q=function(e,s){for(var t=[],d=e;d<s;d++)t.push(d);return t},r=function(e){var s="",t="",d,B="",Z="",p="",E="",x=e.match(".*?;"),I=e.match("; .*?\\("),l=e.match("error=.*?\\}, method"),S=e.match("method=.*?,"),n=e.match("transaction=.*?}, code"),j=e.match("code=.*?,"),G=e.match("version=.*?\\)");if(x&&(s=x[0].slice(0,-1)),I&&(t=I[0].slice(2,-1)),l){var A=l[0].slice(6,-8);d=JSON.parse(A)}return S&&(B=S[0].slice(8,-2)),n&&(Z=n[0].slice(12,-6)),j&&(p=j[0].slice(5,-1)),G&&(E=G[0].slice(8,-1)),{header:s,subHeader:t,body:d,method:B,transaction:Z,code:p,version:E}},O=function(e){return e%4!=0?!1:e%100!=0?!0:e%400==0},C=function(e){return(e<10?"0":"")+e},N=function(){var e=new Date,s=e.getFullYear(),t=C(e.getMonth()+1),d=C(e.getDate());return"".concat(s,"-").concat(t,"-").concat(d)},P=function(e){switch(e){case 1:return"1st";case 2:return"2nd";case 3:return"3rd";default:return"".concat(e,"th")}},m=function(){return["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"]},z=function(e){if(e)switch(e){case 1:return"JAN";case 2:return"FEB";case 3:return"MAR";case 4:return"APR";case 5:return"MAY";case 6:return"JUN";case 7:return"JUL";case 8:return"AUG";case 9:return"SEP";case 10:return"OCT";case 11:return"NOV";case 12:return"DEC"}}},86653:function(ae,k){k.Z={mainContainer:"mainContainer___hW8LP",pageContainer:"pageContainer___gxCEw"}}}]);
