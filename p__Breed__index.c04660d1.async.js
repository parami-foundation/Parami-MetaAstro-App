"use strict";(self.webpackChunkmeta_astro=self.webpackChunkmeta_astro||[]).push([[848],{41972:function(F,v,e){var P=e(27424),d=e.n(P),C=e(67294),s=e(55598),T=e(59841),n=e(71577),o=e(83509),D=e(32869),t=e(85893),l=function(c){var u=c.lat,m=c.lng,L=c.utcOffset,U=c.breed,N=c.setStep,b=c.setLat,x=c.setLng,O=c.setUTCOffset,h=(0,C.useState)(!1),_=d()(h,2),B=_[0],E=_[1],G=(0,C.useState)("Please select your city"),w=d()(G,2),re=w[0],a=w[1],Y=(0,T.useIntl)();return(0,t.jsxs)("div",{className:s.Z.nftWrapper,children:[(0,t.jsx)("div",{className:s.Z.nftTitle,children:U?Y.formatMessage({id:"astro.inputCity",defaultMessage:"1/3, Where were you born, dear god's candidate?"}):Y.formatMessage({id:"astro.inputCity",defaultMessage:"1/4, Where were you born, dear god's candidate?"})}),(0,t.jsxs)("div",{className:s.Z.inputContainer,children:[(0,t.jsx)("div",{className:s.Z.prefix,children:Y.formatMessage({id:"astro.city.prefix",defaultMessage:"I was born in"})}),(0,t.jsx)(o.Z,{onSuggestSelect:function(W){W!=null&&W.location&&(b(W.location.lat),x(W.location.lng),O(W.gmaps.utc_offset_minutes/60)),E(!1)},placeholder:re,onFocus:function(){a("")},onBlur:function(){a("Please select your city")},inputClassName:s.Z.geoInput,className:s.Z.geoSuggest,suggestsClassName:s.Z.geoSuggestWrapper,suggestItemClassName:s.Z.geoSuggestWrapperItem,suggestsHiddenClassName:B?s.Z.geoSuggestWrapperShow:s.Z.geoSuggestWrapperHidden,maxFixtures:5,types:["(cities)"],ignoreTab:!0,ignoreEnter:!0}),(0,t.jsx)(D.Z,{})]}),(0,t.jsx)("div",{className:s.Z.buttons,children:(0,t.jsx)(n.Z,{size:"large",shape:"round",type:"primary",className:s.Z.button,disabled:!u||!m||!L,onClick:function(){N(2)},children:Y.formatMessage({id:"astro.nextStep",defaultMessage:"Next Step"})})})]})};v.Z=l},66627:function(F,v,e){var P=e(27424),d=e.n(P),C=e(67294),s=e(55598),T=e(59841),n=e(68351),o=e(71577),D=e(32869),t=e(85893),l=function(c){var u=c.timeOfBirth,m=c.breed,L=c.setStep,U=c.setTimeOfBirth,N=(0,C.useState)("Please select your time of birth"),b=d()(N,2),x=b[0],O=b[1],h=(0,T.useIntl)();return(0,t.jsxs)("div",{className:s.Z.nftWrapper,children:[(0,t.jsx)("div",{className:s.Z.nftTitle,children:m?h.formatMessage({id:"astro.inputYear",defaultMessage:"3/3, Submit more info to generate your MetaAstro."}):h.formatMessage({id:"astro.inputYear",defaultMessage:"4/4, Submit more info to generate your MetaAstro."})}),(0,t.jsxs)("div",{className:s.Z.inputContainer,children:[(0,t.jsx)("div",{className:s.Z.prefix,children:h.formatMessage({id:"astro.time.prefix",defaultMessage:"My birth time is"})}),(0,t.jsx)(n.Z,{inputReadOnly:!0,className:s.Z.input,allowClear:!1,suffixIcon:void 0,format:["HH:mm:ss"],placeholder:x,onChange:function(B,E){U(E.split(":"))},onFocus:function(){O("")},onBlur:function(){O("Please select your time of birth")},renderExtraFooter:function(){return(0,t.jsxs)("div",{className:s.Z.timePickerFooter,children:[(0,t.jsx)("span",{children:"Hour"}),(0,t.jsx)("span",{children:"Minute"}),(0,t.jsx)("span",{children:"Second"})]})}}),(0,t.jsx)(D.Z,{})]}),(0,t.jsx)("div",{className:s.Z.buttons,children:(0,t.jsx)(o.Z,{size:"large",shape:"round",type:"primary",className:s.Z.button,disabled:!u.length,onClick:function(){L(m?4:5)},children:h.formatMessage({id:"astro.nextStep",defaultMessage:"Next Step"})})})]})};v.Z=l},47163:function(F,v,e){var P=e(27424),d=e.n(P),C=e(67294),s=e(55598),T=e(59841),n=e(41505),o=e(71577),D=e(30381),t=e.n(D),l=e(85893),j=function(u){var m=u.yearOfBirth,L=u.breed,U=u.setStep,N=u.setYearOfBirth,b=(0,C.useState)("Please select your year of birth"),x=d()(b,2),O=x[0],h=x[1],_=(0,T.useIntl)();return(0,C.useEffect)(function(){N(1990)},[]),(0,l.jsxs)("div",{className:s.Z.nftWrapper,children:[(0,l.jsx)("div",{className:s.Z.nftTitle,children:L?_.formatMessage({id:"astro.inputYear",defaultMessage:"2/3, What is your birth year?"}):_.formatMessage({id:"astro.inputYear",defaultMessage:"2/4, What is your birth year?"})}),(0,l.jsxs)("div",{className:s.Z.inputContainer,children:[(0,l.jsx)("div",{className:s.Z.prefix,children:_.formatMessage({id:"astro.year.prefix",defaultMessage:"I was born in"})}),(0,l.jsx)(n.Z,{className:s.Z.input,allowClear:!1,suffixIcon:void 0,picker:"year",format:["YYYY","YY"],onChange:function(E,G){N(Number(G))},defaultValue:t()("1990","YYYY"),placeholder:m?.toString()||O,onClick:function(){h("")},onBlur:function(){h("Please select your year of birth")}})]}),(0,l.jsx)("div",{className:s.Z.buttons,children:(0,l.jsx)(o.Z,{size:"large",shape:"round",type:"primary",className:s.Z.button,disabled:!m,onClick:function(){U(3)},children:_.formatMessage({id:"astro.nextStep",defaultMessage:"Next Step"})})})]})};v.Z=j},1544:function(F,v,e){e.r(v),e.d(v,{default:function(){return He}});var P=e(17061),d=e.n(P),C=e(17156),s=e.n(C),T=e(27424),n=e.n(T),o=e(67294),D=e(86653),t={getchartContainer:"getchartContainer___VTcQ3",topContainer:"topContainer___aQQIJ",currentPhase:"currentPhase___eHUDm",colon:"colon___Tutpn",contentContainer:"contentContainer___Fxych",mainTitleContainer:"mainTitleContainer___lQuhv",beTheMetaAstroGod:"beTheMetaAstroGod___gtdGA",monthAndDay:"monthAndDay___s53_s",monthCount:"monthCount___yFbFr",monthCountItem:"monthCountItem___wYQso",monthCountStatic:"monthCountStatic___DfOgr",mintYourSoulNFT:"mintYourSoulNFT___psWyK",nftContainer:"nftContainer___XaS3m",mintCount:"mintCount___MeRzc",modalContainer:"modalContainer___zT1EH",background:"background___kWrzf",tipContainer:"tipContainer___hQPVv",chartContainer:"chartContainer___Ruz40",chart:"chart___GrnKc",copyBreedLink:"copyBreedLink___ujEPI",openSeaLink:"openSeaLink___RWTfR"},l=e(59841),j=e(67038),c=e(11977),u=e(2593),m=e(87526),L=e(41972),U=e(47163),N=e(66627),b=e(9642),x=e(1412),O=e(38648),h=e(71577),_=e(55026),B=e(55598),E={countdown:"countdown___zw5Gu",priceContainer:"priceContainer___jI1_x",totalContainer:"totalContainer_____pG5",currentPrice:"currentPrice___vTAco",currentTotal:"currentTotal___HTAlr",ethIcon:"ethIcon___PJXGh",auctionDetailContainer:"auctionDetailContainer___Vldvc",auctionDetailWrapper:"auctionDetailWrapper___U5chE",auctionDetailTitle:"auctionDetailTitle____61tz",generating:"generating___u32Tz"},G=e(77616),w=e(11382),re=e(86504),a=e(85893),Y=function(f){var I=f.currentPrice,R=f.currentFee,q=f.loadSVG,oe=f.loading,ee=f.astroSVG,i=f.lat,ie=f.lng,te=f.utcOffset,H=f.yearOfBirth,le=f.dateOfBirth,ue=f.timeOfBirth,ae=f.setModal,$=f.handleSubmit,z=(0,l.useIntl)();return(0,a.jsxs)("div",{className:B.Z.nftWrapper,children:[(0,a.jsxs)("div",{className:E.priceContainer,children:[(0,a.jsx)("div",{className:E.currentPrice,children:I?G.dF(u.O$.from(I)):"--"}),(0,a.jsxs)("div",{className:E.ethIcon,children:[(0,a.jsx)("img",{src:"/images/crypto/ethereum-eth-logo.svg",alt:"eth"}),(0,a.jsx)("span",{children:"ETH"})]})]}),(0,a.jsx)("div",{className:E.totalContainer,children:(0,a.jsx)("div",{className:E.currentTotal,children:z.formatMessage({id:"astro.total",defaultMessage:"Total cost {total}ETH (Oracle operator gas fee: {fee}ETH)"},{total:I&&R?Math.floor(Number(G.dF(u.O$.from(I).add(u.O$.from(R))))*100)/100:"--",fee:R?Math.floor(Number(G.dF(u.O$.from(R)))*100)/100:"--"})})}),q&&(0,a.jsx)(w.Z,{size:"large",className:E.generating,indicator:(0,a.jsx)(re.Z,{style:{color:"#fff",marginLeft:"10px",marginRight:"10px"},spin:!0}),tip:(0,a.jsx)("div",{style:{color:"#fff"},children:z.formatMessage({id:"astro.generating",defaultMessage:"Waiting for oracle..."})})}),(0,a.jsxs)("div",{className:B.Z.buttons,children:[!q&&!ee&&(0,a.jsx)(h.Z,{size:"large",shape:"round",type:"primary",className:B.Z.button,disabled:!i||!ie||!te||!H||!le.length||!ue.length,loading:oe,onClick:function(){$()},children:z.formatMessage({id:"astro.getURChart",defaultMessage:"Mint Your MetaAstro"})}),ee&&(0,a.jsx)(h.Z,{size:"large",shape:"round",type:"primary",className:E.button,onClick:function(){ae(!0)},children:z.formatMessage({id:"astro.viewMyChart",defaultMessage:"View Your MetaAstro"})})]})]})},Q=Y,W=e(32454),Ye=e(20640),ze=e.n(Ye),Se=e(81093),Ve=e(63346),Ce=e(625),ne=e(48764).Buffer,Qe=function(){var f=(0,l.useModel)("web3"),I=f.account,R=f.chainId,q=f.connect,oe=f.switchNetwork,ee=(0,l.useModel)("astroContracts"),i=ee.OrdinaryContract,ie=(0,o.useState)(0),te=n()(ie,2),H=te[0],le=te[1],ue=(0,o.useState)(0),ae=n()(ue,2),$=ae[0],z=ae[1],de=(0,o.useState)(0),Oe=n()(de,2),ce=Oe[0],Je=Oe[1],Xe=(0,o.useState)(),Ee=n()(Xe,2),me=Ee[0],we=Ee[1],qe=(0,o.useState)([]),ye=n()(qe,2),K=ye[0],et=ye[1],tt=(0,o.useState)([]),Pe=n()(tt,2),J=Pe[0],at=Pe[1],st=(0,o.useState)(!1),Te=n()(st,2),rt=Te[0],fe=Te[1],nt=(0,o.useState)(!1),De=n()(nt,2),ot=De[0],je=De[1],it=(0,o.useState)(),Ie=n()(it,2),lt=Ie[0],ut=Ie[1],dt=(0,o.useState)(),Be=n()(dt,2),ct=Be[0],mt=Be[1],ft=(0,o.useState)(),Ae=n()(ft,2),Ne=Ae[0],gt=Ae[1],vt=(0,o.useState)(),be=n()(vt,2),V=be[0],ht=be[1],_t=(0,o.useState)(!1),xe=n()(_t,2),pt=xe[0],ge=xe[1],Mt=(0,o.useState)(1),We=n()(Mt,2),se=We[0],ve=We[1],Z=(0,l.useIntl)(),y=j.parse(window.location.search),Ze=function(){var p=s()(d()().mark(function g(){var M,k;return d()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,i?.getOracleGasFee();case 2:return M=A.sent,A.next=5,i?.getBreedPrice(y?.tokenID);case 5:k=A.sent,k&&ut(k),M&&mt(M);case 8:case"end":return A.stop()}},g)}));return function(){return p.apply(this,arguments)}}(),St=function(){var p=s()(d()().mark(function g(){var M;return d()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.prev=0,S.next=3,i?.getAstroArgsOf(y?.tokenID);case 3:M=S.sent,M!=null&&M.exists?et(M?.monthAndDay):(O.Z.error({message:Z.formatMessage({id:"astro.error.notFound",defaultMessage:"Not found this token ID, please check it again"}),duration:null}),l.history.push("/")),S.next=11;break;case 7:S.prev=7,S.t0=S.catch(0),O.Z.error({message:Z.formatMessage({id:"astro.error.notFound",defaultMessage:"Not found this token ID, please check it again"}),duration:null}),l.history.push("/");case 11:case"end":return S.stop()}},g,null,[[0,7]])}));return function(){return p.apply(this,arguments)}}(),Ct=function(){var p=s()(d()().mark(function g(){var M,k,S,A,he,Le,_e,pe;return d()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return fe(!0),r.prev=1,r.next=4,i?.getOracleGasFee();case 4:return M=r.sent,r.next=7,i?.getBreedPrice(y?.tokenID);case 7:return k=r.sent,r.next=10,(0,b.k)("".concat(Number(me),",").concat(Number(J[0]),",").concat(Number(J[1]),",").concat(Number(J[2]),",").concat(Math.round($*100),",").concat(Math.round(H*100),",").concat(Math.round(ce*100)));case 10:return S=r.sent,r.next=13,i?.breedFrom(y?.tokenID,[Number(K[0]),Number(K[1])],encodeURIComponent(S),{value:u.O$.from(k).add(u.O$.from(M))});case 13:return A=r.sent,r.next=16,(0,x.x)(A);case 16:he=r.sent,ht(he),je(!0),Le=setInterval(s()(d()().mark(function Ot(){var Ue,Ge,Re,Ke,Me,ke,Fe;return d()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.next=2,i?.tokenURI(he);case 2:Ue=X.sent,Ge=Ue.substring(29),Re=ne.from(Ge,"base64").toString("binary"),Ke=JSON.parse(Re),Me=ne.from(Ke.image.substring(26),"base64").toString("utf8"),Me.indexOf("generating")===-1&&(ke=Me.replace(/\<path.*?/,"").replace(/\<rect.*?fill=\"none\".*?\/>/,"").replace(/\<radialGradient id=\"darkLight\"\>.*?\<\/radialGradient\>/,'<radialGradient id="darkLight"><stop offset="0%" stop-color="#707070" /><stop offset="3%" stop-color="#1b1b1b" /><stop offset="8%" stop-color="#000000" /></radialGradient>'),Fe=ne.from(ke).toString("base64"),gt("data:image/svg+xml;base64,"+Fe),je(!1),clearInterval(Le),ge(!0));case 8:case"end":return X.stop()}},Ot)})),3e3),fe(!1),r.next=28;break;case 23:r.prev=23,r.t0=r.catch(1),console.log((r.t0===null||r.t0===void 0||(_e=r.t0.error)===null||_e===void 0?void 0:_e.message)||(r.t0===null||r.t0===void 0?void 0:r.t0.message)||r.t0),O.Z.error({message:(r.t0===null||r.t0===void 0||(pe=r.t0.error)===null||pe===void 0?void 0:pe.message)||(r.t0===null||r.t0===void 0?void 0:r.t0.message)||r.t0,duration:null}),fe(!1);case 28:case"end":return r.stop()}},g,null,[[1,23]])}));return function(){return p.apply(this,arguments)}}();return(0,o.useEffect)(function(){if(!Ce.v.network.id.indexOf(R)&&!!I){O.Z.error({message:"Unsupported Chain",description:"This feature is only supported on Mainnet",duration:null}),l.history.push("/"),oe(Ce.v.network.id[0]);return}},[R,I]),(0,o.useEffect)(function(){if(!I)try{q()}catch(g){var p;O.Z.error({message:(g==null||(p=g.error)===null||p===void 0?void 0:p.message)||g?.message||g})}},[I]),(0,o.useEffect)(function(){!!i&&!!I&&(Ze(),St(),setInterval(function(){var p=new Date;p.getMinutes()%10===0&&Ze()},1e3))},[I,i]),(0,a.jsxs)(Ve.Z,{children:[(0,a.jsxs)("div",{className:D.Z.mainContainer,children:[(0,a.jsx)(c.Z,{complex:!1}),(0,a.jsxs)("div",{className:t.getchartContainer,children:[(0,a.jsxs)("div",{className:t.topContainer,children:[(0,a.jsx)("div",{className:t.currentPhase,children:Z.formatMessage({id:"astro.phase",defaultMessage:"MetaAstro Phase {phase}"},{phase:"II"})}),(0,a.jsx)("span",{className:t.colon,children:":"}),(0,a.jsx)("div",{className:t.genesisOfTheGod,children:Z.formatMessage({id:"astro.continuation",defaultMessage:"Continuation of the God"})})]}),(0,a.jsxs)("div",{className:t.contentContainer,children:[(0,a.jsxs)("div",{className:t.mainTitleContainer,children:[(0,a.jsx)("div",{className:t.beTheMetaAstroGod,children:Z.formatMessage({id:"astro.beTheMetaAstroGod",defaultMessage:"Be the MetaAstro God of {monthAndDay}"},{monthAndDay:(0,a.jsxs)("div",{className:t.monthAndDay,style:{color:"#ff5b00"},children:[(0,a.jsx)("div",{className:t.monthCountStatic,children:(0,a.jsx)("div",{className:t.monthCountItem,children:(0,m.Nc)(Number(K[0]))})})," ",K[1]]})})}),(0,a.jsx)("div",{className:t.mintYourSoulNFT,children:Z.formatMessage({id:"astro.mintYourSoulBoundNFTToday",defaultMessage:"Mint your soul-bound NFT today"})})]}),(0,a.jsxs)("div",{className:t.nftContainer,children:[se===1&&(0,a.jsx)(L.Z,{breed:!0,lat:H,lng:$,utcOffset:ce,setStep:ve,setLat:le,setLng:z,setUTCOffset:Je}),se===2&&(0,a.jsx)(U.Z,{breed:!0,yearOfBirth:me,setStep:ve,setYearOfBirth:we}),se===3&&(0,a.jsx)(N.Z,{breed:!0,timeOfBirth:J,setStep:ve,setTimeOfBirth:at}),se===4&&(0,a.jsx)(Q,{currentPrice:lt,currentFee:ct,loadSVG:ot,loading:rt,astroSVG:Ne,lat:H,lng:$,utcOffset:ce,yearOfBirth:me,dateOfBirth:K,timeOfBirth:J,setModal:ge,handleSubmit:Ct})]})]})]})]}),(0,a.jsx)(W.Z,{visable:pt,title:void 0,content:(0,a.jsxs)("div",{className:t.modalContainer,children:[(0,a.jsxs)("div",{className:t.tipContainer,children:["Congratulations!",(0,a.jsx)("br",{}),"You are the god of",(0,a.jsx)("br",{}),(0,a.jsxs)("div",{className:t.monthAndDay,children:[K[0],"/",K[1]]})]}),(0,a.jsx)("div",{className:t.chartContainer,children:(0,a.jsx)("div",{className:t.chart,children:(0,a.jsx)("img",{src:Ne,alt:"astro"})})}),(0,a.jsx)(h.Z,{block:!0,type:"link",size:"large",onClick:function(){ze()("".concat(window.location.origin,"/breed?tokenID=").concat(V?.toString())),_.ZP.success("Copy Success!")},className:t.copyBreedLink,children:Z.formatMessage({id:"astro.copyBreedLink",defaultMessage:"Copy Breed Link"})}),(0,a.jsx)(h.Z,{block:!0,type:"link",size:"large",onClick:function(){window.open("".concat(Se.cB.url,"/assets/").concat(Se.q7.ordinary[1],"/").concat(V?.toString()),"_blank")},className:t.openSeaLink,children:Z.formatMessage({id:"astro.gotoOpenSea",defaultMessage:"Go to OpenSea"})})]}),footer:!1,bodyStyle:{backgroundColor:"#000",background:"url(/images/background/tarot.svg) #000",backgroundSize:"cover",backgroundPosition:"center",padding:0},close:function(){ge(!1)}})]})},He=Qe},1412:function(F,v,e){e.d(v,{x:function(){return o}});var P=e(17061),d=e.n(P),C=e(17156),s=e.n(C);function T(t,l){return n.apply(this,arguments)}function n(){return n=s()(d()().mark(function t(l,j){var c;return d()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,l.wait();case 2:if(c=m.sent.events,!(!c||!c[0].args)){m.next=5;break}return m.abrupt("return",void 0);case 5:return m.abrupt("return",j(c[0]));case 6:case"end":return m.stop()}},t)})),n.apply(this,arguments)}function o(t){return D.apply(this,arguments)}function D(){return D=s()(d()().mark(function t(l){var j;return d()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,T(l,function(m){return m.args.tokenId});case 2:if(j=u.sent,j){u.next=5;break}throw new Error;case 5:return u.abrupt("return",j);case 6:case"end":return u.stop()}},t)})),D.apply(this,arguments)}},9642:function(F,v,e){e.d(v,{k:function(){return C}});var P=e(86508),d="MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDOPcw3rIferK9z0TeJrWj20yewihSc+OWa3/Uzmzqcr+SBvJvkx8Enblc1v4uqUFM9iNztGiiEqUElz2mjUIQ2TdxYC62rui0kb+VE6sykIt43DmQD0NQ9X/DqCl+mJJ9uG8Mj/h1OnCBhrrVadjprn/tfSnBHVZwh+y4dZerapQIDAQAB",C=function(T){var n=new P.X;n.setPublicKey(d);var o=n.encrypt(T);return o.toString()}},55598:function(F,v){v.Z={nftWrapper:"nftWrapper___swXlh",nftTitle:"nftTitle____rrtg",inputContainer:"inputContainer___3Y2LA",prefix:"prefix___If8tf",input:"input___a6lYF",nftItem:"nftItem___Y8Kg6",active:"active___T5Wp1",buttons:"buttons___Z7Q5T",button:"button___WKSVF",geoSuggest:"geoSuggest___Rp2vc",geoInput:"geoInput___vS1C8",geoSuggestWrapper:"geoSuggestWrapper___tka9T",geoSuggestWrapperItem:"geoSuggestWrapperItem___SpXsz",geoSuggestWrapperShow:"geoSuggestWrapperShow___E4PFf",geoSuggestWrapperHidden:"geoSuggestWrapperHidden___rvgkq",timePickerFooter:"timePickerFooter___ESrMS"}}}]);
